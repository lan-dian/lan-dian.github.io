<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>设计模式 | 岚殿的技术博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="Java后端技术博客">
    <meta name="keywords" content="Java,后端,技术,博客">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.bf945c37.css" as="style"><link rel="preload" href="/assets/js/app.73b3f839.js" as="script"><link rel="preload" href="/assets/js/2.74fbac12.js" as="script"><link rel="preload" href="/assets/js/9.0a4c26a5.js" as="script"><link rel="prefetch" href="/assets/js/10.f64b9d9d.js"><link rel="prefetch" href="/assets/js/11.25a86ba5.js"><link rel="prefetch" href="/assets/js/12.be4295b5.js"><link rel="prefetch" href="/assets/js/13.3e79dfb3.js"><link rel="prefetch" href="/assets/js/14.fdcc33a0.js"><link rel="prefetch" href="/assets/js/15.3193a1b8.js"><link rel="prefetch" href="/assets/js/16.2a663ced.js"><link rel="prefetch" href="/assets/js/17.c5fb2d31.js"><link rel="prefetch" href="/assets/js/18.8c4103a5.js"><link rel="prefetch" href="/assets/js/3.a6e6f7b6.js"><link rel="prefetch" href="/assets/js/4.4a01c80f.js"><link rel="prefetch" href="/assets/js/5.8376b372.js"><link rel="prefetch" href="/assets/js/6.f091151b.js"><link rel="prefetch" href="/assets/js/7.5351ed2b.js"><link rel="prefetch" href="/assets/js/8.724e16c7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bf945c37.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu only-sidebarItem"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="岚殿的技术博客" class="logo"> <span class="site-name can-hide">岚殿的技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术学习" class="dropdown-title"><a href="/web/" class="link-title">技术学习</a> <span class="title" style="display:none;">技术学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/479a6c/" class="nav-link">docker</a></li><li class="dropdown-item"><!----> <a href="/pages/0d9ac7/" class="nav-link">hbase</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI大模型" class="dropdown-title"><a href="/ai/" class="link-title">AI大模型</a> <span class="title" style="display:none;">AI大模型</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0c8b87/" class="nav-link">提示词工程</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/lan-dian" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.png"> <div class="blogger-info"><h3>岚殿</h3> <span></span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术学习" class="dropdown-title"><a href="/web/" class="link-title">技术学习</a> <span class="title" style="display:none;">技术学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/479a6c/" class="nav-link">docker</a></li><li class="dropdown-item"><!----> <a href="/pages/0d9ac7/" class="nav-link">hbase</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI大模型" class="dropdown-title"><a href="/ai/" class="link-title">AI大模型</a> <span class="title" style="display:none;">AI大模型</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0c8b87/" class="nav-link">提示词工程</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/lan-dian" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/830163/" aria-current="page" class="active sidebar-link">设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/830163/#创建型模型" class="sidebar-link">创建型模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/830163/#工厂方法-factory-高频" class="sidebar-link">工厂方法(Factory)---高频</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#抽象工厂-abstract-factory" class="sidebar-link">抽象工厂(Abstract Factory)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#建造者模式-builder-常用" class="sidebar-link">建造者模式(Builder)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#原型模式-clone-prototype" class="sidebar-link">原型模式(Clone,Prototype)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#单例模式-singleton-常用" class="sidebar-link">单例模式(Singleton)---常用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/830163/#结构型模式" class="sidebar-link">结构型模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/830163/#适配器模式-adapter-常用" class="sidebar-link">适配器模式(Adapter)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#桥接模式-bridge-优先组合而不是继承" class="sidebar-link">桥接模式(Bridge)---优先组合而不是继承</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#组合模式-composite" class="sidebar-link">组合模式(Composite)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#装饰器模式-wrapper-decorator-常用" class="sidebar-link">装饰器模式(Wrapper，Decorator)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#外观模式-facade-常用" class="sidebar-link">外观模式(Facade)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#享元模式-flyweight-pattern" class="sidebar-link">享元模式(Flyweight Pattern)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#代理模式-proxy-常用" class="sidebar-link">代理模式(Proxy)--常用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/830163/#行为模式" class="sidebar-link">行为模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/830163/#责任链模式-chain-高频" class="sidebar-link">责任链模式(Chain)--高频</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#命令模式-action" class="sidebar-link">命令模式(Action)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#迭代器模式-iterator" class="sidebar-link">迭代器模式(Iterator)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#中介者模式-controller" class="sidebar-link">中介者模式(Controller)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#备忘录模式" class="sidebar-link">备忘录模式</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#观察者模式-listener、observer-常用" class="sidebar-link">观察者模式(Listener、Observer)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#状态模式-state" class="sidebar-link">状态模式(State)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#策略模式-strategy-常用" class="sidebar-link">策略模式(Strategy)---常用</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#模板方法模式-abstract-高频" class="sidebar-link">模板方法模式(Abstract)---高频</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#访问者模式-visitor" class="sidebar-link">访问者模式(Visitor)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/830163/#设计模式六大原则" class="sidebar-link">设计模式六大原则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/830163/#开闭原则" class="sidebar-link">开闭原则</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#里氏代换原则" class="sidebar-link">里氏代换原则</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#依赖倒转原则" class="sidebar-link">依赖倒转原则</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#接口隔离原则" class="sidebar-link">接口隔离原则</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#迪米特法则-最少知道原则" class="sidebar-link">迪米特法则(最少知道原则)</a></li><li class="sidebar-sub-header level3"><a href="/pages/830163/#合成复用原则" class="sidebar-link">合成复用原则</a></li></ul></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/java/#java" data-v-06225672>java</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/lan-dian" target="_blank" title="作者" class="beLink" data-v-06225672>lan-dian</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-04-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">设计模式<!----></h1>  <div class="theme-vdoing-content content__default"><p>我在学习设计模式也经历了好几个阶段，从刚开始的看不懂，到慢慢觉得这有什么好处吗，再到后来觉得有点用，目前是在工作中，才体会到设计模式的重大价值，可以说设计模式我也学过很多遍了，希望这次在梳理一遍。主打的一个目的就1个<strong>知道在什么场景下使用什么设计模型</strong>，希望有理解不够深入的地方，可以一起讨论。
<strong>只考虑Java语言，只考虑业务开发和中间件研发，能用业务开发说明就用业务开发说明。</strong></p> <h2 id="创建型模型"><a href="#创建型模型" class="header-anchor">#</a> 创建型模型</h2> <p><strong>在创建对象的时候，尤其是创建复杂对象</strong>，我们可以考虑用此类设计模型。</p> <h3 id="工厂方法-factory-高频"><a href="#工厂方法-factory-高频" class="header-anchor">#</a> 工厂方法(Factory)---高频</h3> <blockquote><p>场景1</p></blockquote> <p>如果我们的代码有好几种不同流程，比如说通过if-else，好几个相同的输入，相同的输出。那么这个时候我们可以使用工厂方法进行优化。
一般情况下，<strong>写一个工厂类</strong>，接受<strong>若干字符串，枚举参数</strong>，这个可以是前端传递的，也可以我们写死的。然后需要把<strong>不同的流程实现同一个接口</strong>。
即使目前只有一个，只要未来可能扩充的，都可以用工厂实现，这样新增的时候，改动就非常小，不担心改坏。</p> <blockquote><p>场景2</p></blockquote> <p>在中间件中，<strong>为了方便我们增加实现</strong>，也会提供工厂接口，让我们实现子类便可以替换。最明显的是spring的，<strong>我们可以定义实现bean，来替换原来本的bean</strong>。</p> <blockquote><p>场景3</p></blockquote> <p><strong>spring ioc如果有对象创建比较复杂</strong>，我们可以在spring的工厂下创建这个bean，这样就可以直接注入这个对象，省去复杂的配置，或者说最关键的是，把对象的构建和使用分离到2个不同的类。</p> <blockquote><p>场景4</p></blockquote> <p>单例工程，如果我们有多个对象可以复用，那么我们可以通过工厂方法来获取这些对象，本质就是单例模式。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：有多种实现流程，放在map里面，需要什么流程取什么流程，但是需要统一接口。</p></div> <h3 id="抽象工厂-abstract-factory"><a href="#抽象工厂-abstract-factory" class="header-anchor">#</a> 抽象工厂(Abstract Factory)</h3> <p>区别与工厂，我们通过他只需要获取一个对象，但是如果我们需要通过工程获取一系列对象，而且这些对象必须直接互相搭配，或者理解说只有一个工厂管理。
这个本质就是有好几个工厂方法的接口，然后有不同的工厂实现类，作用和用途，以我的理解，和上面的工厂方法没有任何区别。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：需要获取一致处理对象的工厂。</p></div> <h3 id="建造者模式-builder-常用"><a href="#建造者模式-builder-常用" class="header-anchor">#</a> 建造者模式(Builder)---常用</h3> <p>最直观的就是Mybatis Plus用来构建SQL的builder</p> <blockquote><p>场景1</p></blockquote> <p>如果我们要构建的对象非常复杂，直观来讲，就是我们写一个创建对象的代码，写了很多行，而且会被用在各种地方，而且各种地方都不一样，里面有很复杂的逻辑。</p> <blockquote><p>场景2</p></blockquote> <p>如果我们一个类有很多构建方法，有一些是可选的，如果用Java去实现，那么会写很多方法，非常的麻烦，但是builder模式可以让我们按需构建，而且支持校验。</p> <blockquote><p>场景3</p></blockquote> <p>构建<strong>复杂嵌套对象</strong>的时候，可以使用Java的lambda表达式，这样可以让人很轻松的看懂对象是怎么嵌套的。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：在构建对象复杂的情况下，仅仅保留构建对象需要的参数，通过链式调用的方法传递。</p></div> <h3 id="原型模式-clone-prototype"><a href="#原型模式-clone-prototype" class="header-anchor">#</a> 原型模式(Clone,Prototype)</h3> <p>说实话，我觉得这个就是Java里面clone接口的实现，不算什么设计模型。目前的理解还考虑不到使用的场景。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：克隆对象。</p></div> <h3 id="单例模式-singleton-常用"><a href="#单例模式-singleton-常用" class="header-anchor">#</a> 单例模式(Singleton)---常用</h3> <p>没有必要使用复杂的机制，往往最简单的写法就可以，一些在启动时需要获取系统数据的，一定不能是懒汉式，一定启动的时候就报错。</p> <blockquote><p>场景1</p></blockquote> <p>全局只使用这一个对象，关键点有2个，一个是把构建方法私有化，另一个就是一定要考虑并发的问题，使用了单例必然和并非有纠缠。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：全局共享一个对象，要特别注意并发安全</p></div> <h2 id="结构型模式"><a href="#结构型模式" class="header-anchor">#</a> 结构型模式</h2> <p>这个说的是组长对象和类，但是我确实分不清和行为有什么区别，但是没什么必要，我们直接看具体的模式。</p> <h3 id="适配器模式-adapter-常用"><a href="#适配器模式-adapter-常用" class="header-anchor">#</a> 适配器模式(Adapter)---常用</h3> <p>这个强调是我们把对象进行一些转换，以此来调用别人的接口。</p> <blockquote><p>场景1</p></blockquote> <p>在我们调用别人接口，如果对方的对象和我们对象有相同的含义，但是表示不同，我们可以使用适配器，到时候我们直接调用适配器。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：包装对象的转化流程，适配其他类的接口。</p></div> <h3 id="桥接模式-bridge-优先组合而不是继承"><a href="#桥接模式-bridge-优先组合而不是继承" class="header-anchor">#</a> 桥接模式(Bridge)---优先组合而不是继承</h3> <p>本质是不是一种设计模式，感觉优先组合而不是继承完全的包含了这种模式。</p> <blockquote><p>场景1</p></blockquote> <p>我们有2类对象，需要他们支持两两组合。如果不用设计模式，类的数量会非常多。
但是我们通过组合来实现这个需求，让这2类对象有抽象的实现就可以。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：优先组合而不是继承</p></div> <h3 id="组合模式-composite"><a href="#组合模式-composite" class="header-anchor">#</a> 组合模式(Composite)</h3> <p>感觉比较低频。
背景是树状对象结构，比如多级菜单，核心关键是容器和内容节点都使用的同一接口，接口方法肯定是对简单节点和容器都有意义，比如收藏。容器可以包含简单节点和其他容器。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：对容器和节点采用一致的接口处理。</p></div> <h3 id="装饰器模式-wrapper-decorator-常用"><a href="#装饰器模式-wrapper-decorator-常用" class="header-anchor">#</a> 装饰器模式(Wrapper，Decorator)---常用</h3> <p>最典型的就是Java的文件读写类直接使用了这种模型。
<strong>适配器能为被封装对象提供不同的接口， 代理模式能为对象提供相同的接口， 装饰则能为对象提供加强的接口。</strong> <strong>只需要把一个类传入另一个类中，作为一个变量</strong>，那么原来的类的行为就被<strong>扩展</strong>了。</p> <blockquote><p>场景1</p></blockquote> <p>你希望运行时可以扩展对象的行为，比如多级缓存。</p> <blockquote><p>场景2</p></blockquote> <p>一个类被final修饰了，但是你仍然希望继承他，可以使用这种模式。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：可以增强原来对象的功能，扩展了接口的能力。</p></div> <h3 id="外观模式-facade-常用"><a href="#外观模式-facade-常用" class="header-anchor">#</a> 外观模式(Facade)---常用</h3> <p>这个本质就是我们所说的包一层，或者什么什么utils</p> <blockquote><p>场景1</p></blockquote> <p>你需要<strong>调用多个对象来配合实现某一件事情</strong>，可以把他们放在一个类里面，让我们直接调用。</p> <blockquote><p>场景2</p></blockquote> <p><strong>你觉得一个类，框架，提供的接口不好用</strong>，你就自己包一层。</p> <blockquote><p>场景3</p></blockquote> <p>如果你<strong>不想让别人调用某一些方法</strong>，那么你就包一层，那些方法不给予实现。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：把一个或多个类，自己包了一层，提供更简单直观的接口。</p></div> <h3 id="享元模式-flyweight-pattern"><a href="#享元模式-flyweight-pattern" class="header-anchor">#</a> 享元模式(Flyweight Pattern)</h3> <p>这个模式就是有一个类专门管理这些对象的创建和缓存复用。让外部感知不到这个过程，以为是创建了一个新的对象。比如一些链接池。</p> <blockquote><p>场景1</p></blockquote> <p>在有大量对象时，有可能会造成内存溢出，我们把其中共同的部分抽象出来，如果有相同的业务请求，直接返回在内存中已有的对象，避免重新创建。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：对象池，复用对象，节省内存，但是用户感知不到。</p></div> <h3 id="代理模式-proxy-常用"><a href="#代理模式-proxy-常用" class="header-anchor">#</a> 代理模式(Proxy)--常用</h3> <p>使用相同的接口，但是功能被增强了，一般都是动态代理。
RPC远程代理，Cacha代理，懒加载代理等等。</p> <blockquote><p>场景1</p></blockquote> <p>spring aop的使用场景，日志，用户信息</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：相同的接口，使得用户感知不出来的情况下，增强了原来的对象。</p></div> <h2 id="行为模式"><a href="#行为模式" class="header-anchor">#</a> 行为模式</h2> <p>行为模式负责对象间的高效沟通和职责委派。</p> <h3 id="责任链模式-chain-高频"><a href="#责任链模式-chain-高频" class="header-anchor">#</a> 责任链模式(Chain)--高频</h3> <blockquote><p>场景1</p></blockquote> <p>处理某个数据有很长很长的流程，而且可能多个流程有一些相同的内容。那么我们就使用责任链，调用完一个调用下一个，一般有一个context来保存数据。
可以支持中断，比如在context里面写一个stop方法，那么后面的就不执行了。
<strong>主要是隔离和复用！</strong></p> <blockquote><p>场景2</p></blockquote> <p>有多种处理方法，但是因为不确定是什么请求，那就遍历每一个，遇到一个可以处理的就进行处理，这种一般都有support方法。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：把流程上的多个处理隔离到类里面，可以解耦和复用</p></div> <h3 id="命令模式-action"><a href="#命令模式-action" class="header-anchor">#</a> 命令模式(Action)</h3> <blockquote><p>场景1</p></blockquote> <p>这个应该是客户端用的比较多，我的理解就是有很多命令和有很多实现类，我们不想知道这个命令是哪些实现类来实现的，实现类也不关心是谁提出的命令，那么中间就需要有一个对象来实现这个转发。命令的本质就是一个对象。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：用对象来代替具体的命令，把调用放和实现方分离。</p></div> <h3 id="迭代器模式-iterator"><a href="#迭代器模式-iterator" class="header-anchor">#</a> 迭代器模式(Iterator)</h3> <blockquote><p>场景1</p></blockquote> <p>不管你是什么数据结构，只需要通过一个迭代器去遍历就可以，不管是遍历数据，列表，集合，甚至是树和图，你给我一个迭代器，我来遍历，甚至删除。
这个在需要给别人提供对象遍历的时候才用的，一般很少，因为Java都给我们写好了。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：提供了数据结构的遍历，即使不了解数据的原理也可以遍历。</p></div> <h3 id="中介者模式-controller"><a href="#中介者模式-controller" class="header-anchor">#</a> 中介者模式(Controller)</h3> <p>用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。
我觉得这个就是IOC，而且想不到什么应用场景。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：让一个对象来负责对象的关联，把关联复杂度集中在一起，方便管理。</p></div> <h3 id="备忘录模式"><a href="#备忘录模式" class="header-anchor">#</a> 备忘录模式</h3> <p>允许在不暴露对象实现细节的情况下保存和恢复对象之前的状态。不好评价，对我来说是完全没有用的。感觉不是一种模式，更像是具体的功能要求。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：可以支持数据回滚，而且外部不感知。</p></div> <h3 id="观察者模式-listener、observer-常用"><a href="#观察者模式-listener、observer-常用" class="header-anchor">#</a> 观察者模式(Listener、Observer)---常用</h3> <p>就是注册监听者，有事件发生的时候，遍历监听者把时间告诉他们。</p> <blockquote><p>场景1</p></blockquote> <p>类似于MQ的松耦合设计，这个比较常用，但是在很少不使用MQ直接使用这个。一般情况下，可以监听spring的一些事件。
如果有这种需求，可以实现，作用和意义同MQ，异步，解耦。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：注册观察者，事件发生的时候，发送给每一个观察者</p></div> <h3 id="状态模式-state"><a href="#状态模式-state" class="header-anchor">#</a> 状态模式(State)</h3> <blockquote><p>场景1</p></blockquote> <p>一个业务对象会经历多种状态的互相转化。
需要我们实现一个接口，里面有很多方法，代表变成这种状态，每加一种状态就可以多加一种方法。然后每种状态都实现这个接口。就可以反应出每种状态的互相变化。
如果我们多加一个一种状态，<strong>由于编译器的限制，就可以强制我们考虑他和其他所有状态的转化</strong>。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：利用编译器的限制，强制我们考虑多种状态的互相转换。</p></div> <h3 id="策略模式-strategy-常用"><a href="#策略模式-strategy-常用" class="header-anchor">#</a> 策略模式(Strategy)---常用</h3> <blockquote><p>场景1</p></blockquote> <p>解决一个问题有多种方式，可以把多种方式设计成不同的类，然后传给一个管理类，管理类可以执行不同的行为。这个很类似于传递一个lambda表达式进去，这个意义和工厂模式也很像。
对比一下模板方法。
模板方法模式基于继承机制： 它允许你通过扩展子类中的部分内容来改变部分算法。 策略基于组合机制： 你可以通过对相应行为提供不同的策略来改变对象的部分行为。 模板方法在类层次上运作， 因此它是静态的。 策略在对象层次上运作， 因此允许在运行时切换行为。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：把多种方法封装成对象，在运行时传递不同的对象，采用不同的算法策略。</p></div> <h3 id="模板方法模式-abstract-高频"><a href="#模板方法模式-abstract-高频" class="header-anchor">#</a> 模板方法模式(Abstract)---高频</h3> <blockquote><p>场景1</p></blockquote> <p>有多种实现方法，他们大体的流程都是一样的，但是实现的细节有不同，那么就把这些细节的方法交给子类，然后父类负责调用子类的实现。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：多种方式，大体流程相同，细节实现不同，细节实现交给子类编写。</p></div> <h3 id="访问者模式-visitor"><a href="#访问者模式-visitor" class="header-anchor">#</a> 访问者模式(Visitor)</h3> <blockquote><p>场景1</p></blockquote> <p>需要遍历一个复杂的嵌套对象，然后对面不同的对象采用不同的行为去处理。访问者就是编写了这个遍历的过程，然后具体的实现还是调用抽象模板子类方法，他负责了这个分发的过程。
最典型的比如我们递归去遍历一个文件夹下面的所有文件，我们不用管他是怎么递归的，只需要写怎么处理这些问题。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一句话：把复杂对象遍历和处理实现分离，让我们只关注实现，不关注遍历。</p></div> <h2 id="设计模式六大原则"><a href="#设计模式六大原则" class="header-anchor">#</a> 设计模式六大原则</h2> <p>其实设计模式在实现和思路上有很多重复的地方，本质来说，六大原则就是抽取设计模式的核心思想，可以做到更高水平的境界。</p> <h3 id="开闭原则"><a href="#开闭原则" class="header-anchor">#</a> 开闭原则</h3> <p>对扩展开放，对修改关闭
这是基本所有设计模式的核心了，对扩展开放，因为扩展是新加的类，大多数情况下，不会影响原来的系统。
对修改关闭，最怕直接修改以前的代码了，容易出问题。</p> <h3 id="里氏代换原则"><a href="#里氏代换原则" class="header-anchor">#</a> 里氏代换原则</h3> <p>任何基类可以出现的地方，子类一定可以出现。规范我们子类编写的，不过我目前领悟不到这个。</p> <h3 id="依赖倒转原则"><a href="#依赖倒转原则" class="header-anchor">#</a> 依赖倒转原则</h3> <p>优先使用接口，抽象类编程，而不是实现类编程。</p> <h3 id="接口隔离原则"><a href="#接口隔离原则" class="header-anchor">#</a> 接口隔离原则</h3> <p>接口的功能要强相关，如果一个接口的函数，有几个看起来和其他的接口没关系，那么就要拆分成多个接口。</p> <h3 id="迪米特法则-最少知道原则"><a href="#迪米特法则-最少知道原则" class="header-anchor">#</a> 迪米特法则(最少知道原则)</h3> <p>一个实体应当尽量少地与其他实体之间发生相互作用，使得系统功能模块相对独立。
尽可能的少暴露public的方法，参数，至于字段就更不用说了，肯定不能暴露。</p> <h3 id="合成复用原则"><a href="#合成复用原则" class="header-anchor">#</a> 合成复用原则</h3> <p>优先使用组合而不是继承。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/lan-dian/edit/master/docs/01.java/01.设计模式.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E5%8D%9A%E5%AE%A2" title="标签">#博客</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/04/24, 11:31:27</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/0c8b87/"><div>
            提示词工程
            <!----></div></a> <span class="date">04-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/67ef0c/"><div>
            hbase-原理
            <!----></div></a> <span class="date">04-10</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/0d9ac7/"><div>
            hbase-入门
            <!----></div></a> <span class="date">04-10</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/lan-dian" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.73b3f839.js" defer></script><script src="/assets/js/2.74fbac12.js" defer></script><script src="/assets/js/9.0a4c26a5.js" defer></script>
  </body>
</html>
